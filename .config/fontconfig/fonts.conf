<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>
<fontconfig> 

<match target="scan">
    <test name="family">
      <string>Noto Color Emoji</string>
    </test>
    <edit name="scalable" mode="assign">
      <bool>true</bool>
    </edit>
  </match>

  <match target="pattern">
    <edit name="family" mode="prepend_first">
      <string>Icons</string>
    </edit>
  </match>

  <match target="pattern">
    <edit name="family" mode="prepend_first">
      <string>Noto Color Emoji</string>
    </edit>
  </match>

  <alias>
   <family>sans-serif</family>
   <prefer>
     <family>Noto Sans</family>
     <family>Noto Color Emoji</family>
     <family>Noto Emoji</family>
     <family>DejaVu Sans</family>
   </prefer> 
 </alias>

 <alias>
   <family>serif</family>
   <prefer>
     <family>Noto Serif</family>
     <family>Noto Color Emoji</family>
     <family>Noto Emoji</family>
     <family>DejaVu Serif</family>
   </prefer>
 </alias>

 <alias>
  <family>monospace</family>
  <prefer>
    <family>Noto Sans Mono</family>
    <family>Noto Color Emoji</family>
    <family>Noto Emoji</family>
   </prefer>
 </alias>

<fontconfig>
	<match target="font">
		<edit name="rgba" mode="assign"> <const>rgb</const></edit>
		<edit name="antialias" mode="assign"> <bool>true</bool></edit>
		<edit name="autohint" mode="assign"> <bool>false</bool></edit>
		<edit name="hinting" mode="assign"> <bool>true</bool></edit>
		<edit name="hintstyle" mode="assign"> <const>hintslight</const></edit>
		<edit name="lcdfilter" mode="assign"> <const>lcdlight</const></edit>
		<edit name="embeddedbitmap" mode="assign"> <bool>false</bool></edit>
	</match>

	<!-- Prefer Noto and San Francisco fonts -->
	<alias>
		<family>serif</family>
		<prefer>
			<family>Noto Serif</family>
			<family>Noto Serif JP</family>
		</prefer>
	</alias>
	<alias>
		<family>sans-serif</family>
		<prefer>
			<family>Noto Sans</family>
			<family>Noto Sans JP</family>
		</prefer>
	</alias>
	<alias>
		<family>monospace</family>
		<prefer><family>Noto Sans Mono</family></prefer>
	</alias>

	<match>
		<test name="family"><string>Helvetica</string></test>
		<edit binding="same" mode="assign" name="family">
			<string>SF Pro Text</string>
		</edit>
	</match>

	<match>
		<test name="family"><string>Arial</string></test>
		<edit binding="same" mode="assign" name="family">
			<string>SF Pro Text</string>
		</edit>
	</match>

	<!-- Re-enable embedded bitmaps for CJK fonts -->
	<match target="font">
		<test name="lang" compare="contains"> <string>ja</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>
	<match target="font">
		<test name="lang" compare="contains"> <string>ko</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>
	<match target="font">
		<test name="lang" compare="contains"> <string>zh</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>

	<!-- by default fontconfig assumes any unrecognized font is sans-serif, so -->
	<!-- the fonts above now have /both/ families.  fix this. -->
	<!-- note that "delete" applies to the first match -->
	<!-- https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/ -->
	<match>
		<test compare="eq" name="family"><string>sans-serif</string></test>
		<test compare="eq" name="family"><string>monospace</string></test>
		<edit mode="delete" name="family"/>
	</match>

	<alias>
		<family>Source Han Sans Japanese</family>
		<prefer><family>Source Han Sans JP</family></prefer>
	</alias>
	<alias>
		<family>NotoSansCJK</family>
		<prefer><family>Noto Sans CJK JP</family></prefer>
	</alias>
</fontconfig>
